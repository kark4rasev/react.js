import{createStore} from "redux";
import { chatsReducer } from "../chatsReducer/chatsReducer";
import storage from 'redux-persist/lib/storage';
import { messagesReducer } from "./messagesReducer";
import {persistReducer,persistStore} from "redux-persist";
import {createLogger} from "redux-logger/src";


const persistConfig = {
    key: 'root',
    storage
}

const logger = createLogger(option:{
    collapsed: true,
    diff: true
})


const rootReducer = combineReducer(reducers:{
    chats:chatsReducer,
    messages:messagesReducer
})

const persistReducer = persistReducer(persistConfig, rootReducer)


export const store = createStore(persistedReducer, applyMiddleware(logger));
export const persist = persistStore(store)
